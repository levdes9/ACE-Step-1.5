# Инструкция по генерации и редактированию (на основе batch_1770436514)

Этот файл содержит параметры и рекомендации, основанные на последней успешной генерации.

## 1. Конфигурация последней сессии

**Тип задачи:** `cover` (Кавер / Изменение голоса)  
**Референс:** `Bad Bunny - DtMF Letra 4X4uckVyk9o.mp3`

### Основные параметры (Best Practice)

| Параметр | Значение | За что отвечает |
| :--- | :--- | :--- |
| **Inference Steps** | `8` | Качество генерации. 8 — оптимальный баланс скорости и качества. |
| **Guidance Scale** | `7.0` | Насколько строго модель следует промпту. Значения 6-8 обычно дают лучший результат. |
| **Shift** | `3` | Влияет на структуру. Для более "стабильных" результатов используйте 1-3. |
| **Inference Method** | `ode` | Метод сэмплирования. `ode` обеспечивает стабильный ритм. |
| **LM Temperature** | `0.85` | Креативность языковой модели. Ниже — предсказуемее, выше — хаотичнее. |

### Настройки Chain-of-Thought (CoT)

Для улучшения логики и связности использовались следующие настройки:

- ✅ **CoT Metas** (Метаданные)
- ✅ **CoT Caption** (Описание)
- ✅ **CoT Language** (Язык)
- ✅ **Constrained Decoding** (Ограниченное декодирование — помогает удерживать структуру)
- ❌ **CoT Lyrics** (Выключено — часто мешает при генерации конкретного текста)

---

## 2. Использованные Промпты

### Caption (Описание стиля)
> "Modern Latin Trap, Chill Reggaeton, 100 BPM. Vocal: Male-inflected female voice, lazy flow, heavily auto-tuned, nasal texture, relaxed."

### Lyrics (Текст на иврите)
Текст был структурирован по секциям `[Intro]`, `[Chorus]`, `[Bridge]`, `[Outro]`.
*(См. полный текст в JSON файле или редакторе)*

---

## 3. Рекомендации по редактированию

Если вы хотите изменить результат, попробуйте следующие настройки:

### "Голос слишком роботизированный?"
- **Понизьте Guidance Scale** до `5.0` - `6.0`.
- **Повысьте Inference Steps** до `10` или `16` (увеличит время генерации).

### "Музыка не попадает в ритм / хаос?"
- Убедитесь, что **Inference Method** установлен на `ode`.
- Попробуйте **Shift** = `1`.

### "Хочется больше экспериментов с мелодией?"
- Повысьте **LM Temperature** до `0.9` или `0.95`.

### "Текст игнорируется?"
- Проверьте форматирование текста (теги `[verse]`, `[chorus]`).
- Убедитесь, что **CoT Lyrics** **ВЫКЛЮЧЕН** (установлен в `false`), так как иногда он конфликтует с явным вводом текста.

---

## 4. Как повторить запуск (CLI)

Вы можете использовать команду с теми же флагами:

```bash
uv run acestep --init_service true --offload_to_cpu true --lm_model "ACE-Step-V15"
```
После запуска в Web UI выберите вкладку **Cover** и загрузите те же референсы/текст.
